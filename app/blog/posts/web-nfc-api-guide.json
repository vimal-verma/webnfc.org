{
    "slug": "web-nfc-api-guide",
    "title": "Developer's Guide to the Web NFC API: Read, Write, and Lock Tags",
    "author": "WebNfc Team",
    "date": "2025-03-10",
    "excerpt": "A comprehensive guide for developers on using the Web NFC API. Learn how to integrate NFC functionality into your web app with practical code snippets for reading, writing, and locking tags.",
    "description": "A deep-dive technical guide into the Web NFC API. Includes information on supported browsers and devices, security considerations, and JavaScript code examples for NDEFReader scan(), write(), and making tags read-only.",
    "tags": [
        "WebNFC",
        "How-To",
        "Guide",
        "Developer",
        "API",
        "Code"
    ],
    "image": "/previews/blog/web-nfc-api-guide.png",
    "keywords": "Web NFC API, WebNFC guide, NDEFReader, javascript nfc, read nfc javascript, write nfc javascript, lock nfc tag, web nfc example, web nfc tutorial, web nfc code",
    "content": "<h3>Introduction</h3><p>The Web NFC API allows web applications to interact with NFC (Near Field Communication) tags. It's a powerful tool for bridging the gap between the physical and digital worlds, right from a browser. This guide provides the technical details and code snippets you need to get started.</p><h3>Supported Browsers & Devices</h3><p>Before you start coding, it's crucial to understand the current limitations:</p><ul><li><strong>Browser:</strong> Web NFC is primarily supported on <strong>Chrome for Android</strong> (version 89 and newer).</li><li><strong>Device:</strong> It requires an Android smartphone with NFC hardware.</li><li><strong>Security:</strong> The API is only available on secure contexts (<strong>HTTPS</strong>) and requires a user gesture (like a button click) to initiate any action.</li></ul><h3>How to Read an NFC Tag</h3><p>To read an NFC tag, you create an instance of <code>NDEFReader</code> and call its <code>scan()</code> method. This returns a promise that resolves when a scan is initiated. The 'reading' event is fired whenever a new NDEF message is read.</p><pre><code class=\"language-js\">async function readNfcTag() {\n  if (!('NDEFReader' in window)) {\n    console.log('Web NFC is not supported by this browser.');\n    return;\n  }\n  try {\n    const reader = new NDEFReader();\n    await reader.scan();\n    console.log('Scan started successfully.');\n\n    reader.onreading = event => {\n      console.log('NDEF message read.');\n      const { serialNumber } = event;\n      const { records } = event.message;\n      // Process the records here\n      records.forEach(record => {\n        console.log(`Record type:  ${record.recordType}`);\n        console.log(`MIME type:    ${record.mediaType}`);\n        console.log(`Record id:      ${record.id}`);\n        // ... and so on\n      });\n    };\n  } catch (error) {\n    console.error('Error starting scan:', error);\n  }\n}</code></pre><h3>How to Write to an NFC Tag</h3><p>Writing data involves calling the <code>write()</code> method on an <code>NDEFReader</code> instance. You can write various record types, such as URLs, text, or even custom data.</p><pre><code class=\"language-js\">async function writeNfcTag(data) {\n  if (!('NDEFReader' in window)) {\n    console.log('Web NFC is not supported by this browser.');\n    return;\n  }\n  try {\n    const writer = new NDEFReader();\n    await writer.write({\n      records: [{ recordType: 'url', data: 'https://webnfc.org' }]\n    });\n    console.log('Message written successfully!');\n  } catch (error) {\n    console.error('Error writing to tag:', error);\n  }\n}</code></pre><h3>How to Lock an NFC Tag (Make Read-Only)</h3><p>Locking a tag prevents it from being rewritten, which is useful for permanent installations. This is an option within the <code>write()</code> method. <strong>Warning: This action is irreversible.</strong></p><pre><code class=\"language-js\">async function writeAndLockNfcTag() {\n  try {\n    const writer = new NDEFReader();\n    await writer.write(\n      { records: [{ recordType: 'text', data: 'This is a permanent message.' }] },\n      { overwrite: false } // Prevent writing to a tag that already has data\n    );\n    // After writing, you can make the tag permanently read-only.\n    await writer.makeReadOnly();\n    console.log('Tag written and locked successfully!');\n  } catch (error) {\n    console.error('Error locking tag:', error);\n  }\n}</code></pre><h3>What About Cloning, and Formatting?</h3><ul><li><strong>Cloning:</strong> The Web NFC API does not provide a direct 'clone' method. Cloning a tag involves reading all the NDEF records from one tag and then writing those exact records to another tag. You can implement this by combining the read and write functions shown above.</li><li><strong>Formatting:</strong> Formatting a tag to remove all data is not explicitly supported by the Web NFC API. The standard way to 'clear' a tag is to simply overwrite it with a new message containing an empty NDEF record, like <code>writer.write({ records: [{ recordType: 'empty' }] })</code>.</li></ul>"
}